data Maybe (a : Type) where
| Just a
| Nothing

def fromMaybe {a} (fallback : a) (m : Maybe a) -> a do
  match m with
  | Just x -> x
  | Nothing -> fallback
  end

def map {a, b} (self : Maybe a) (f : a -> b) -> Maybe b do 
  match self with 
  | Just x -> Just (f x)
  | Nothing -> Nothing
  end

def main () -> Int do
  let succ = \x -> x + 1 in
  fromMaybe 0 (map (Just 0) succ)
